<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
  	equationNumbers: { autoNumber: "AMS" },
    Macros: {
       b: ["\\mathbf{#1}", 1],
       bracket: ["\\left \\{ #1 \\right \\}", 1]
    }
  }
});
</script>

# 1. はじめに

情報技術の革新と発達により、そこで発生するコミュニケーションもまた様々に発達してきた。特にインターネット上のコミュニケーションの発達は特に目覚ましい。
様々なソーシャルメディアでネット上でのオンラインでのコミュニケーションは今までにない以上に発展しており、実生活上でもその比率は年々に上昇してきている。LINE, Twitter, Instagram, Facebook, Slack などオンラインでの意思疎通を円滑に行うチャットツールやソーシャルメディアは具体例を挙げれば枚挙に暇がない。
さてそういったツールやり取りの中でも欠かせないものの一つとして「顔文字」がある。通常のメッセージとは別にその時々に適した感情を表すものとして利用される。「ｖ(｡・・｡) ｵｯｹｰ♪」、「m(_ _　)m」など表したい気持ちや思いをカジュアルに伝える手段として特に若い人の間で流行ってきた。

今回はその「顔文字」をどのように機械学習の手法を使って分類するか、について焦点を当てて解説する。


## 導入


A. 主ポイント
顔文字の感情推定を機械学習の手法を用いて分類するのは重要かつ面白いテーマである

B. (A に対して）なぜ？
1. 顔文字から感情を推定するのは実用的で意味のある課題設定だから
2. 顔文字の分類は機械的に行う必要があるから
3. 技術的に面白いと感じるから

C (B.1 に対して）なぜ?
1 顔文字を入力する機会が増えている
  - 1.1 チャットツールの隆盛
  - 1.2 絵文字など、表音ではなく表意表現でのコミュニケーションの増加
2 顔文字は普通そのまま入力しない
  - 2.1 様々な特殊文字が入り組んでいるため覚えにくい
  - 2.2 特殊文字を組み合わせて構成した表意文字のため打ちにくい
3 (2 の反論) iPhone や Android では定義済みの顔文字から選択できるのでは?
  - 3.1 IME 標準の顔文字は数が限られている
  - 3.2 多数の顔文字の中から、適切な候補を選ぶのに時間がかかる（なぜなら一覧で羅列されているため）
4 感情から顔文字をサジェストさせるのは効率的で自然である
  - 4.1 顔文字はそれぞれの人の表情から感情を喚起させるため、結びつきが明白である
  - 4.2 各々の感情の言葉、例えば嬉しいや悲しい等、は個々の顔文字を直接入力するのに比較して文字数が少なく入力しやすい
  - 4.3 全候補ではなく特定感情に関連した顔文字の集合から選択するので、適切な候補を選ぶのに時間がかからない

D (B.2 に対して）なぜ?
1 顔文字は大量の種類が存在する
  - 1.1 インターネット上から集めただけでも 3 万件以上存在する
  - 1.2 ユニコードで表現できる文字数が増えたため、今まででは表現できなかった多用な顔文字が出現しており、顔文字数の増加に拍車をかけている
2 顔文字は表意文字であるため日々新しい顔文字が作り出されいる
  - 2.1 仮にある時点の顔文字を人手で全て分類したとしてもその後新しい未知の顔文字は出て来る
3 人手で行うにはコストがかかる

E (B.3 に対して）なぜ？
1 顔文字のような様々なパターンが考えられるような問題に対して、機械学習の手法がどこまで適用できるか試してみたかったため
2 自然言語処理を用いた高次元の分類の問題に属するため

#### 解いた手法

A. 主ポイント
多変数のロジスティック回帰を用いて解いた

B. (A の手法に対して）なぜ?

#### 期待していること・結論の想定

A. 主ポイント
顔文字の感情が正しく分類できること


### 手法
A. 主ポイント
手法としてはロジスティック回帰を利用した

B. （Aの手法に対してなぜ？）
1. 識別モデルであるため出現確率も含めて出力したかった ⇒ 識別関数の手法も検討したが利用しなかった
2. 多変数クラス分類で最も標準的に使われている手法がロジスティック回帰であるため
3. 実装が比較的シンプルに行える


### 期待する結果
A. 主ポイント
期待する結果としては顔文字が一定以上の程度できちんと分類できる



## 2. 問題設定と用語の定義

### 特徴量の構成方法


特徴量は以下で計算する

$$
\begin{align}
	tf\_idf(t_i, d_j) & = tf(t_i, d_j) * idf(t_i) \\
	tf(t_i, d_j) & = \frac{n_{i, j}}{\sum_{k} n_{k, j}} \\
	idf(t_i) & = \frac{
		|D|
	}{
		\sum_{j=1}^{|D|} n_{k, j}^0
	}
\end{align}
$$

$ n_{k, j} $ は単語 $ t_k $ が文章 $ d_j $ で出現する数を表している





















